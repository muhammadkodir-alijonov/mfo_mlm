<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/svg+xml" href="/static/file_test.png"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PCK File Processor</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="container">
    <header>
        <h1>PCK File Processor for FB</h1>
    </header>
    <main>
        <!-- MLM Section -->
        <section id="mlm" class="content-section active">
            <div class="upload-container">
                <h2>Upload .pck File</h2>
                <form id="upload-form" enctype="multipart/form-data">
                    <div class="module-input-container">
                        <label for="module-code">Modulni tanlang:</label>
                        <input list="module-options" id="module-code" name="module_code"
                               placeholder="Modul kodini kiriting yoki tanlang..." required>
                        <datalist id="module-options"></datalist>
                    </div>
                    <div class="file-input-container">
                        <input type="file" id="file-input" accept=".pck" required>
                        <label for="file-input" class="file-label">
                            <span class="file-icon">üìÅ</span>
                            <span class="file-text">Choose a .pck file</span>
                        </label>
                        <span id="file-name" class="file-name"></span>
                    </div>
                    <button type="submit" class="upload-btn">Upload</button>
                </form>
            </div>
        </section>

        <!-- Processing Options Modal -->
        <div id="options-modal" class="modal">
            <div class="modal-content">
                <h2>Choose Processing Option</h2>
                <p>Select an action to perform on the uploaded file:</p>
                <div class="options-container">
                    <button id="script-btn" class="option-btn">Insert for MLM</button>
                    <button id="convert-btn" class="option-btn">Convert to MLM</button>
                </div>
                <button id="cancel-options" class="cancel-btn">Cancel</button>
            </div>
        </div>

        <!-- Progress Modal -->
        <div id="progress-modal" class="modal">
            <div class="modal-content">
                <h2>Processing File</h2>
                <p id="progress-message">Starting process...</p>
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <p id="progress-percent">0%</p>
            </div>
        </div>

        <!-- Error Modal -->
        <div id="error-modal" class="modal">
            <div class="modal-content">
                <h2>Error</h2>
                <p id="error-message">An error occurred.</p>
                <button id="error-close" class="close-btn">Close</button>
            </div>
        </div>
    </main>

    <footer>
        <p class="footer-text">
            &copy; 2025 PCK File Processor (Powered by
            <span class="neon-name">Azizbek Rahimov</span>,
            <span class="neon-name">Muhammadqodir Alijonov</span>)
        </p>
    </footer>

</div>

<script src="/static/script.js"></script>
</body>
</html>